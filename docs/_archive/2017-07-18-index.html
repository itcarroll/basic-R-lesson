---
---

<!DOCTYPE html>
<html>
  <head>
	  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bas(e|ic) R</title>
<meta name="description" content="Get started with R in RStudio">
<link rel="canonical" href="https://sesync-ci.github.io/basic-R-lesson/2017/07/18/index.html">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v1.2/docs/css/default.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-style@v1.2/docs/css/static.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

	  
  </head>
  <body>
	  <div class="page-content">
	    <div class="wrapper">
        
        
<h1 style="text-transform: none;" id="baseic-r">Bas(e|ic) R</h1>

<p>Lesson 1 with <em>Ian Carroll and Mary Shelly</em></p>

<h2 id="contents">Contents</h2>

<ul>
  <li><a href="#/slides/intro">Why learn R?</a></li>
  <li><a href="#/slides/console">The Console</a></li>
  <li><a href="#/slides/environment">The Environment</a></li>
  <li><a href="#/slides/editor">The Editor</a></li>
  <li><a href="#/slides/types">Data types</a></li>
  <li><a href="#/slides/dataframes">Multi-dimensional data structures</a></li>
  <li><a href="#/slides/load">Load data into R</a></li>
  <li><a href="#/slides/parts">Parts of an Object</a></li>
  <li><a href="#/slides/plot">Base plotting</a></li>
  <li><a href="#/slides/functions">Functions</a></li>
  <li><a href="#/slides/flow">Flow control</a></li>
  <li><a href="#/slides/stats">Distributions and Statistics</a></li>
  <li><a href="#/slides/conclude">Review</a></li>
  <li><a href="#/slides/solutions">Exercise solutions</a></li>
</ul>

<hr />

<p><a name="/slides/intro"></a></p>

<h2 id="why-learn-r">Why learn R?</h2>

<ul>
  <li>High-level programming language good for interactive statistical analysis</li>
  <li>General purpose programming language for scripting entire data-processing pipelines</li>
  <li>Large selection of add-on packages that extend the capabilities of ‚Äúbase R‚Äù</li>
  <li>Large user community especially within statistics and ecology</li>
  <li>Open source</li>
</ul>

<p class="ToS"><a href="#/slides/intro">Top of Section</a></p>

<hr />

<p><a name="/slides/console"></a></p>

<h2 id="the-console">The Console</h2>

<p>The interpreter accepts R commands interactively through the console. Basic math, as you would type it on a calculator, is usually a valid command in the R language:</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 3
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="m">5</span><span class="o">/</span><span class="m">3</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 1.666667
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="m">4</span><span class="o">^</span><span class="m">2</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 16
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>Why is the output prefixed by <code class="highlighter-rouge">[1]</code>?</dd>
  <dt>Answer</dt>
  <dd class="fragment">That‚Äôs the index, or position in a vector, of the first result.</dd>
</dl>

<p>A command giving a vector of results shows this clearly:</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
[24] 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
[47] 47 48 49 50
</code></pre>
</div>

<p>The interpreter understands more than arithmatic operations!
The last command was to use (or ‚Äúcall‚Äù) the <strong>function</strong> <code class="highlighter-rouge">seq()</code>.
Most of ‚Äúlearning R‚Äù involves getting to know a whole lot of functions, the effect of each function‚Äôs  arguments (e.g. the input values 1 and 10), and what each function returns (e.g. the output vector).</p>

<h2 id="basic-math">Basic math</h2>

<p>A good place to begin learning R functions is with its built-in mathematical functionality:</p>

<ul>
  <li>binary operators <code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">-</code>, <code class="highlighter-rouge">*</code>, <code class="highlighter-rouge">/</code>, and <code class="highlighter-rouge">^</code> (for raising to a power)</li>
  <li>tests of equality (‚Äú==‚Äù) and inequality (‚Äú&lt;‚Äù and ‚Äú&gt;‚Äù)</li>
  <li>‚Äúsmooth‚Äù functions like <code class="highlighter-rouge">sin</code>, <code class="highlighter-rouge">log</code>, and <code class="highlighter-rouge">sqrt</code></li>
  <li>additional functions like <code class="highlighter-rouge">max</code>, <code class="highlighter-rouge">range</code>, and <code class="highlighter-rouge">mean</code></li>
</ul>

<p>Use binary operators by inserting them between two numbers, grouped by parentheses when necessary.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 1
</code></pre>
</div>

<p>Use functions by calling them with comma-separated arguments between parentheses.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">logb</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 1
</code></pre>
</div>

<h2 id="exercise-1">Exercise 1</h2>

<p>The quadratic formula for the two values of <script type="math/tex">x</script> that satisfy the equation <script type="math/tex">a x^2 + b x + c = 0</script> is</p>

<script type="math/tex; mode=display">\frac{-b \pm \sqrt{b^2 - 4 a c}}{2 a}.</script>

<p>Use the quadratic formula to calculate both values of <script type="math/tex">x</script> that solve <script type="math/tex">1.5 x^2 + 0.3 x - 2.9 = 0</script>.</p>

<p class="notes"><a href="#solution-1">View solution</a></p>

<h2 id="assignment">Assignment</h2>

<p>When you start a new session, the R interpreter already knows many things, including</p>

<ul>
  <li>any number</li>
  <li>any string of characters</li>
  <li>operators that are universal (e.g. <code class="highlighter-rouge">+</code> or <code class="highlighter-rouge">/</code>) and specific to R (e.g. <code class="highlighter-rouge">$</code> or <code class="highlighter-rouge">%*%</code>)</li>
  <li>functions in <code class="highlighter-rouge">base R</code></li>
</ul>

<p>To reference a number or function you just type it in as above.
To referece a string of characters you must surround them in quotation marks.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="s1">'ab.cd'</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "ab.cd"
</code></pre>
</div>

<p>Without quotation marks, the interpreter checks for things named <code class="highlighter-rouge">ab.cd</code> and doesn‚Äôt find anything:</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">ab.cd</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>Error in eval(expr, envir, enclos): object 'ab.cd' not found
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>Is it better to use <code class="highlighter-rouge">'</code> or <code class="highlighter-rouge">"</code>?</dd>
  <dt>Answer</dt>
  <dd class="fragment">Neither one is better. You will often encounter stylistic choices like this, so if you don‚Äôt have a personal preference try to mimic existing styles.</dd>
</dl>

<p>We can expand the vocabulary known to the R interpreter by creating a new <strong>variable</strong>.
Using the symbol <code class="highlighter-rouge">&lt;-</code> is referred to as assignment: we assign the output of any command to the right of <code class="highlighter-rouge">&lt;-</code> to any <strong>variable</strong> written to its left.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>You‚Äôll notice that nothing prints to the console, because we assigned the output to a variable.
We can print the value of <code class="highlighter-rouge">x</code> by evaluating it without assignment.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">x</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
[24] 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
[47] 47 48 49 50
</code></pre>
</div>

<p>Assigning values to new variables (to the left of a <code class="highlighter-rouge">&lt;-</code>) is the only time you can reference something previously unknown to the interpreter.
All other commands must reference things already in the interpreter‚Äôs vocabulary.</p>

<p>Once assigned to a variable, a value becomes known to R and you can refer to it in other commands.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s1">'ab.cd'</span><span class="w">
</span><span class="n">typeof</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "character"
</code></pre>
</div>

<p class="ToS"><a href="#/slides/console">Top of Section</a></p>

<hr />

<p><a name="/slides/environment"></a></p>

<h2 id="the-environment">The Environment</h2>

<p>In the RStudio IDE, the environment tab displays the variables added to R‚Äôs vocabulary in the current session.</p>

<ul>
  <li>these variables do not persist between sessions (automatic saving and loading from a .RData file is discouraged)</li>
  <li>existing variables only change their value on re-assignment</li>
</ul>

<p class="ToS"><a href="#/slides/environment">Top of Section</a></p>

<hr />

<p><a name="/slides/editor"></a></p>

<h2 id="the-editor">The Editor</h2>

<p>The <strong>console</strong> is for evaluating commands you don‚Äôt intend to keep or reuse. It‚Äôs useful for testing commands and poking around.
The <strong>editor</strong> is where you compose scripts that will process data, perform analyses, code up visualizations, and even write reports.</p>

<p>These work together in RStudio, which has multiple ways to send parts of the script you are editing to the console for immediate evaluation.
Alternatively you can ‚Äúsource‚Äù the entire script.</p>

<p>Open up ‚Äúworksheet-1.R‚Äù in the editor, and follow along by replacing the <code class="highlighter-rouge">...</code> placeholders with the code here. Then evalute just this line (Ctrl+Enter on Windows, ‚åò+Enter on Mac OS).</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">vals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Let‚Äôs review the elements of this statement, from left to right:</p>

<ul>
  <li><code class="highlighter-rouge">vals</code> is the name of a (new) variable</li>
  <li><code class="highlighter-rouge"> &lt;- </code> is an operator that assigns what‚Äôs named on the left to equal the result of the expression on the right</li>
  <li><code class="highlighter-rouge">seq</code> is the name of the function</li>
  <li><code class="highlighter-rouge">(</code> is the opening paren of the function call</li>
  <li><code class="highlighter-rouge">1</code> and <code class="highlighter-rouge">100</code> are both arguments, or parameters, to the function</li>
  <li><code class="highlighter-rouge">)</code> is the closing paren of a function call</li>
</ul>

<dl>
  <dt>Question</dt>
  <dd>Why call <code class="highlighter-rouge">vals</code> a ‚Äúvariable‚Äù and <code class="highlighter-rouge">seq</code> a ‚Äúfunction‚Äù?</dd>
  <dt>Answer</dt>
  <dd class="fragment">It is true they are both names of objects known to R, and could be called variables. But <code class="highlighter-rouge">seq</code> has the important distinguishing feature of being <strong>callable</strong>, which is indicated in documentation by writing the function name with empty parens, as in <code class="highlighter-rouge">seq()</code>.</dd>
</dl>

<p>Our call to the function <code class="highlighter-rouge">seq</code> could have been much more explicit. We could give the arguments by the names that <code class="highlighter-rouge">seq</code> is expecting.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">vals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">
            </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>Run this code either line-by-line, or highlight the section to run (optionally with keyboard shortcut Ctrl-Return or ‚åò Return).</p>

<dl>
  <dt>Question</dt>
  <dd>What‚Äôs an advantage of naming arguments?</dd>
  <dt>Answer</dt>
  <dd class="fragment">One advantage is that you can put them in any order. A related advantage is that you can then skip some arguments, which is fine to do if each skipped argument has a default value. A third advantage is code readability, which you should always be concious of while writing in the editor.</dd>
</dl>

<h2 id="readability">Readability</h2>

<p>Code readability in the editor cuts both ways: sometimes verbosity is useful, sometimes it is cumbersome.
The <code class="highlighter-rouge">seq()</code> function has an operator form available when only the <code class="highlighter-rouge">from</code> and <code class="highlighter-rouge">to</code> arguments are needed.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
 [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
 [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
 [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
 [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
 [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
</code></pre>
</div>

<p>The <code class="highlighter-rouge">:</code> operator should be used whenever possible because it replaces a common, cumbersome function call with an brief, intuitive syntax.
Likewise, the <code class="highlighter-rouge">assign</code> function duplicates the functionallity of the <code class="highlighter-rouge">&lt;-</code> symbol, but is never used when the simpler operator will suffice.</p>

<h2 id="function-documentation">Function documentation</h2>

<p>How would you get to know these properties and the names of a function‚Äôs arguments?</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="o">?</span><span class="n">seq</span><span class="w">
</span></code></pre>
</div>

<p>How would you even know what function to call?</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="o">??</span><span class="n">sequence</span><span class="w">
</span></code></pre>
</div>

<p class="ToS"><a href="#/slides/editor">Top of Section</a></p>

<hr />

<p><a name="/slides/types"></a></p>

<h2 id="data-types">Data types</h2>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>integer</td>
      <td>-4, 0, 999</td>
    </tr>
    <tr>
      <td>double</td>
      <td>3.1, -4, Inf, NaN</td>
    </tr>
    <tr>
      <td>character</td>
      <td>‚Äòa‚Äô, ‚Äú4‚Äù, ‚Äúüëè‚Äù</td>
    </tr>
    <tr>
      <td>logical</td>
      <td>TRUE, FALSE</td>
    </tr>
    <tr>
      <td>missing</td>
      <td>NA</td>
    </tr>
  </tbody>
</table>

<h2 id="data-structures">Data structures</h2>

<p>Compound objects, built from one or more of these data types, or even other objects.</p>

<p>Common one-dimensional, array data structures:</p>

<ul>
  <li>Vectors</li>
  <li>Lists</li>
  <li>Factors</li>
</ul>

<h2 id="vectors">Vectors</h2>

<p>Vectors are the basic data structure in R. They are a collection of data that are all of the same type. Create a vector by combining elements together using the function <code class="highlighter-rouge">c()</code>. Use the operator <code class="highlighter-rouge">:</code> for a sequence of numbers (forwards or backwards), otherwise separate elements with commas.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">counts</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>All elements of an vector must be the same type, so when you attempt to combine different types they will be coerced to the most flexible type.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "1" "2" "c"
</code></pre>
</div>

<h2 id="lists">Lists</h2>

<p>Lists are like vectors but their elements can be of any data type or structure. You construct lists by using <code class="highlighter-rouge">list()</code> instead of <code class="highlighter-rouge">c()</code>.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] "c"
</code></pre>
</div>

<p>Lists can even include another list!</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[[1]]
[1] 1

[[2]]
[[2]][[1]]
[1] 2

[[2]][[2]]
[1] 3
</code></pre>
</div>

<h2 id="exercise-2">Exercise 2</h2>

<p>Look at the outputs of <code class="highlighter-rouge">list(1, list(2, 3))</code> and <code class="highlighter-rouge">c(1, list(1, 2))</code>. Store the output of each command as new variables, and then examine each variable‚Äôs structure with the <code class="highlighter-rouge">str()</code> function. What‚Äôs different about the structure of the two variables? Are both lists?</p>

<p class="notes"><a href="#solution-2">View solution</a></p>

<h2 id="factors">Factors</h2>

<p>A factor is a vector that can contain only predefined values, and is used to store categorical data. Factors are built on top of integer vectors using two attributes: the <code class="highlighter-rouge">class()</code>, ‚Äúfactor‚Äù, which makes them behave differently from regular integer vectors, and their <code class="highlighter-rouge">levels()</code>, or the set of allowed values.</p>

<p>Use <code class="highlighter-rouge">factor()</code> to create a vector with predefined values, which are often characters or ‚Äústrings‚Äù.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">education</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="w">
    </span><span class="nf">c</span><span class="p">(</span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"middle"</span><span class="p">),</span><span class="w">
    </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"middle"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">education</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code> Factor w/ 3 levels "middle","highschool",..: 3 2 3 1
</code></pre>
</div>

<p>A factor can be unorderd, as above, or ordered with each level somehow ‚Äúless than‚Äù the next.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">education</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="w">
    </span><span class="nf">c</span><span class="p">(</span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">,</span><span class="w"> </span><span class="s2">"middle"</span><span class="p">),</span><span class="w">
    </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"middle"</span><span class="p">,</span><span class="w"> </span><span class="s2">"highschool"</span><span class="p">,</span><span class="w"> </span><span class="s2">"college"</span><span class="p">),</span><span class="w">
    </span><span class="n">ordered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">education</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code> Ord.factor w/ 3 levels "middle"&lt;"highschool"&lt;..: 3 2 3 1
</code></pre>
</div>

<p class="ToS"><a href="#/slides/types">Top of Section</a></p>

<hr />

<p><a name="/slides/dataframes"></a></p>

<h2 id="multi-dimensional-data-structures">Multi-dimensional data structures</h2>

<p>Data can be stored in several types of data structures depending on its complexity.</p>

<table>
  <thead>
    <tr>
      <th>Dimensions</th>
      <th>Homogeneous</th>
      <th>Heterogeneous</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1d</td>
      <td>c()</td>
      <td>list()</td>
    </tr>
    <tr>
      <td>2d</td>
      <td>matrix()</td>
      <td>data.frame()</td>
    </tr>
    <tr>
      <td>nd</td>
      <td>array()</td>
      <td>¬†</td>
    </tr>
  </tbody>
</table>

<p>Of these, the data frame is far and away the most used.</p>

<h2 id="data-frames">Data frames</h2>

<p>Data frames are 2-dimensional and can contain heterogenous data like numbers in one column and a factor in another.</p>

<p>It is the data structure most similar to a spreadsheet, with two key differences:</p>

<ul>
  <li>Data frames columns are <em>equal-length</em> vectors.</li>
  <li>As vectors, the columns are homogeneous and cannot hold values of the <em>wrong</em> type.</li>
</ul>

<p>Creating a data frame from scratch can be done by combining vectors with the <code class="highlighter-rouge">data.frame()</code> function.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">education</span><span class="p">,</span><span class="w"> </span><span class="n">counts</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>   education counts
1    college      4
2 highschool      3
3    college      7
4     middle      5
</code></pre>
</div>

<p>Some functions to get to know your data frame are:</p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Output</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">dim()</code></td>
      <td>dimensions</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">nrow()</code></td>
      <td>number of rows</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ncol()</code></td>
      <td>number of columns</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">names()</code></td>
      <td>(column) names</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">str()</code></td>
      <td>structure</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">summary()</code></td>
      <td>summary info</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">head()</code></td>
      <td>shows beginning rows</td>
    </tr>
  </tbody>
</table>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "education" "counts"   
</code></pre>
</div>

<h2 id="exercise-3">Exercise 3</h2>

<p>Create a data frame with two columns, one called ‚Äúspecies‚Äù and another called ‚Äúabund‚Äù. Store your data frame as a variable called <code class="highlighter-rouge">data</code>. You can do this with or without populating the data frame with values.</p>

<p class="notes"><a href="#solution-3">View solution</a></p>

<p class="ToS"><a href="#/slides/dataframes">Top of Section</a></p>

<hr />

<p><a name="/slides/load"></a></p>

<h2 id="load-data-into-r">Load data into R</h2>

<p>We will use the function <code class="highlighter-rouge">read.csv()</code> that reads in a Comma-Separated-Values file by passing it the location of the file.
The essential argument for the function to read in data is the path to the file, and optinal additional arguments specify additional ways of reading the data.
Additional file types can be read in using <code class="highlighter-rouge">read.table()</code>; in fact, <code class="highlighter-rouge">read.csv()</code> is a simple wrapper  for the <code class="highlighter-rouge">read.table()</code> function that specifies default values for some of the optional arguments.</p>

<p>Type a comma after <code class="highlighter-rouge">read.csv(</code> and then press <strong>tab</strong> to see what arguments that this function takes.
Hovering over each item in the list will show a description of that argument from the help documentation about that function.
Specify the values to use for an argument using the syntax <code class="highlighter-rouge">name = value</code>.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/plots.csv"</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>   id                 treatment
1   1         Spectab exclosure
2   2                   Control
3   3  Long-term Krat Exclosure
4   4                   Control
5   5          Rodent Exclosure
6   6 Short-term Krat Exclosure
7   7          Rodent Exclosure
8   8                   Control
9   9         Spectab exclosure
10 10          Rodent Exclosure
11 11                   Control
12 12                   Control
13 13 Short-term Krat Exclosure
14 14                   Control
15 15  Long-term Krat Exclosure
16 16          Rodent Exclosure
17 17                   Control
18 18 Short-term Krat Exclosure
19 19  Long-term Krat Exclosure
20 20 Short-term Krat Exclosure
21 21  Long-term Krat Exclosure
22 22                   Control
23 23          Rodent Exclosure
24 24          Rodent Exclosure
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>Is the <code class="highlighter-rouge">header</code> argument necessary?</dd>
  <dt>Answer</dt>
  <dd class="fragment">No. Look at <code class="highlighter-rouge">?read.csv</code> to see that <code class="highlighter-rouge">TRUE</code> is the default value for this argument.</dd>
</dl>

<p>Use the assignment operator ‚Äú&lt;-‚Äú to store that data in memory and work with it</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">plots</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/plots.csv"</span><span class="p">)</span><span class="w">
</span><span class="n">animals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/animals.csv"</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>You can specify what indicates missing data in the read.csv function using either <code class="highlighter-rouge">na.strings = "NA"</code> or <code class="highlighter-rouge">na = "NA"</code>.
You can also specify multiple things to be interpreted as missing values, such as <code class="highlighter-rouge">na.strings = c("missing", "no data", "&lt; 0.05 mg/L", "XX")</code>.</p>

<p>After reading in the ‚Äúanimals.csv‚Äù and ‚Äúplots.csv‚Äù files, let‚Äôs explore what types of data are in each column and what kind of structure your data has.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">plots</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>'data.frame':	24 obs. of  2 variables:
 $ id       : int  1 2 3 4 5 6 7 8 9 10 ...
 $ treatment: Factor w/ 5 levels "Control","Long-term Krat Exclosure",..: 5 1 2 1 3 4 3 1 5 3 ...
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">summary</span><span class="p">(</span><span class="n">plots</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>       id                            treatment
 Min.   : 1.00   Control                  :8  
 1st Qu.: 6.75   Long-term Krat Exclosure :4  
 Median :12.50   Rodent Exclosure         :6  
 Mean   :12.50   Short-term Krat Exclosure:4  
 3rd Qu.:18.25   Spectab exclosure        :2  
 Max.   :24.00                                
</code></pre>
</div>

<h2 id="exercise-4">Exercise 4</h2>

<p>By default, all character data is read in to a data.frame as factors.
Use the <code class="highlighter-rouge">read.csv()</code> argument <code class="highlighter-rouge">stringsAsFactors</code> to suppress this behavior, then subsequently modify the <code class="highlighter-rouge">sex</code> column in <code class="highlighter-rouge">animals</code> to make it a factor.
Columns of a <code class="highlighter-rouge">data.frame</code> are identified to the R interpreter with the <code class="highlighter-rouge">$</code> operator, e.g. <code class="highlighter-rouge">animals$sex</code>. We‚Äôll see more on this below.</p>

<p class="notes"><a href="#solution-4">View solution</a></p>

<p class="ToS"><a href="#/slides/load">Top of Section</a></p>

<hr />

<p><a name="/slides/parts"></a></p>

<h2 id="parts-of-an-object">Parts of an Object</h2>

<p>Parts of objects are always accessible, either by their name or by their position, using square brackets: <code class="highlighter-rouge">[</code> and <code class="highlighter-rouge">]</code>.</p>

<h2 id="position">Position</h2>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">counts</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 4
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">counts</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 7
</code></pre>
</div>

<h2 id="names">Names</h2>

<p>Parts of an object can usually also have a name. The names can be given when you are creating a vector or afterwards using the <code class="highlighter-rouge">names()</code> function.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s1">'education'</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>   education
1    college
2 highschool
3    college
4     middle
</code></pre>
</div>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'ed'</span><span class="p">,</span><span class="w"> </span><span class="s1">'ct'</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s1">'ed'</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>          ed
1    college
2 highschool
3    college
4     middle
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>This use of <code class="highlighter-rouge">&lt;-</code> with <code class="highlighter-rouge">names(x)</code> on the left is a little odd. What‚Äôs going on?</dd>
  <dt>Answer</dt>
  <dd class="fragment">We are overwriting an existing variable, but one that is accessed through the output of the function on the left rather than the global environment.</dd>
</dl>

<p>In a multi-dimensional array, you separate the dimension along which a part is requested with a comma.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'ed'</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] college
Levels: middle &lt; highschool &lt; college
</code></pre>
</div>

<p>It‚Äôs fine to mix names and indices when selecting parts of an object.</p>

<h2 id="subsetting-ranges">Subsetting ranges</h2>

<p>There are multiple ways to simultaneously extract multiple parts of an object.</p>

<table>
  <thead>
    <tr>
      <th>Use in brackets</th>
      <th>Subset instructions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>positive integers</td>
      <td>elements at the specified positions</td>
    </tr>
    <tr>
      <td>negative integers</td>
      <td>omit elements at the specified positions</td>
    </tr>
    <tr>
      <td>logical vectors</td>
      <td>select elements where the corresponding value is TRUE</td>
    </tr>
    <tr>
      <td>nothing</td>
      <td>return the original vector (all)</td>
    </tr>
  </tbody>
</table>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">days</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Sunday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Friday"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Saturday"</span><span class="p">)</span><span class="w">
</span><span class="n">weekdays</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">6</span><span class="p">]</span><span class="w">
</span><span class="n">weekend</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)]</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">weekdays</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "Monday"    "Tuesday"   "Wednesday" "Thursday"  "Friday"   
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">weekend</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "Sunday"   "Saturday"
</code></pre>
</div>

<h2 id="exercise-5">Exercise 5</h2>

<ul>
  <li>Get weekdays using negative integers.</li>
  <li>Get M-W-F using a call to <code class="highlighter-rouge">seq()</code> to specify the positions (don‚Äôt forget to <code class="highlighter-rouge">?seq</code>).</li>
</ul>

<p class="notes"><a href="#solution-5">View solution</a></p>

<h2 id="subsetting-data-frames">Subsetting data frames</h2>

<p>The <code class="highlighter-rouge">$</code> sign is an operator that makes for quick access to a single, named part of an object.
It‚Äôs most useful when used interactively with ‚Äútab completion‚Äù on the columns of a data frame.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="o">$</span><span class="n">ed</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] college    highschool college    middle    
Levels: middle &lt; highschool &lt; college
</code></pre>
</div>

<p>A logical test applied to a single column produces a vector of <code class="highlighter-rouge">TRUE</code> and <code class="highlighter-rouge">FALSE</code> values that‚Äôs the right length for subsetting the data.</p>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">$</span><span class="n">ed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'college'</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>       ed ct
1 college  4
3 college  7
</code></pre>
</div>

<h2 id="exercise-6">Exercise 6</h2>

<p>Subset the data frame <code class="highlighter-rouge">df</code> by row position and column name such that you obtain the following output.</p>

<div class="output highlighter-rouge"><pre class="highlight"><code>[1] highschool college
Levels: middle &lt; highschool &lt; college
</code></pre>
</div>

<p class="notes"><a href="#solution-6">View solution</a></p>

<p class="ToS"><a href="#/slides/parts">Top of Section</a></p>

<hr />

<p><a name="/slides/plot"></a></p>

<h2 id="base-plotting">Base plotting</h2>

<p>R has excellent plotting capabilities for many types of graphics.
The <code class="highlighter-rouge">plot()</code> function is the most basic plotting function, and uses the data provided to determine what kind of plot to make.</p>

<p>For more advanced plotting such as multi-faceted plots, the libraries <a href="https://cran.r-project.org/package=lattice">lattice</a> and <a href="https://cran.r-project.org/package=ggplot2">ggplot2</a> are excellent options.</p>

<h2 id="scatterplots">Scatterplots</h2>

<p>Providing plots with separate ‚Äúx‚Äù and ‚Äúy‚Äù coordinates produces a scatterplot.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">plot</span><span class="p">(</span><span class="n">animals</span><span class="o">$</span><span class="n">hindfoot_length</span><span class="p">,</span><span class="w"> </span><span class="n">animals</span><span class="o">$</span><span class="n">weight</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-R-lesson@v0.5/docs/assets/images/unnamed-chunk-1-1.png" alt="plot of chunk unnamed-chunk-1" /></p>

<p>Using R‚Äôs formula notation, as in <code class="highlighter-rouge">plot(weight ~ hindfoot_length, data = animals)</code>, is a more readable syntax for some.</p>

<h2 id="histograms">Histograms</h2>

<p>To plot binned counts of a single variable, use the <code class="highlighter-rouge">hist</code> function.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">hist</span><span class="p">(</span><span class="nf">log</span><span class="p">(</span><span class="n">animals</span><span class="o">$</span><span class="n">weight</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-R-lesson@v0.5/docs/assets/images/unnamed-chunk-2-1.png" alt="plot of chunk unnamed-chunk-2" /></p>

<h2 id="boxplots">Boxplots</h2>

<p>Use <code class="highlighter-rouge">boxplot</code> to compare the number of species seen each year.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">boxplot</span><span class="p">(</span><span class="nf">log</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animals</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-R-lesson@v0.5/docs/assets/images/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3" /></p>

<p class="ToS"><a href="#/slides/plot">Top of Section</a></p>

<hr />

<p><a name="/slides/functions"></a></p>

<h2 id="functions">Functions</h2>

<p>The purpose of R functions is to package up a batch of commands.
There are several reasons to develop functions</p>

<ul>
  <li>reuse</li>
  <li>readability</li>
  <li>modularity</li>
  <li>consistency</li>
</ul>

<p>Writing functions to use multiple times within a project prevents you from duplicating code, a real time-saver when you want to update what the function does.
If you see blocks of similar lines of code through your project, those are usually candidates for being moved into functions.</p>

<h2 id="anatomy-of-a-function">Anatomy of a function</h2>

<p>Writing functions is also a great way to understand the terminology and workings of R.
Like all programming languages, R has keywords that are reserved for import activities, like creating functions.
Keywords are usually very intuitive, the one we need is <code class="highlighter-rouge">function</code>.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="k">function</span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Three components:</p>

<ul>
  <li><strong>arguments</strong>: control how you can call the function</li>
  <li><strong>body</strong>: the code inside the function</li>
  <li><strong>return value</strong>: controls what output the function gives</li>
</ul>

<p>We‚Äôll make a function to extract the first row of its argument, which we give a name to use inside the function:</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Note that <code class="highlighter-rouge">dat</code> doesn‚Äôt exist until we call the function, which merely contains the instructions for how any <code class="highlighter-rouge">dat</code> will be handled.</p>

<p>Finally, we need to give the function a name so we can use it like we used <code class="highlighter-rouge">c()</code> and <code class="highlighter-rouge">seq()</code> above.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">first</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>       ed ct
1 college  4
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>Can you explain the result of entering <code class="highlighter-rouge">first(counts)</code> into the console?</dd>
  <dt>Answer</dt>
  <dd class="fragment">The function caused an error, which prompted the interpreter to print a helpful error message. Never ignore an error message. (It‚Äôs okay to ignore a ‚Äúwarning‚Äù.)</dd>
</dl>

<p class="ToS"><a href="#/slides/functions">Top of Section</a></p>

<hr />

<p><a name="/slides/flow"></a></p>

<h2 id="flow-control">Flow control</h2>

<p>The R interpreter‚Äôs ‚Äúfocus‚Äù flows through a script (or any section of code you run) line by line.
Without additional instruction, every line is processed from the top to bottom.
‚ÄúFlow control‚Äù is the generic term for causing the interpreter to repeat or skip certain lines, using concepts like ‚Äúfor loops‚Äù and ‚Äúif/else conditionals‚Äù.</p>

<p>Flow control happens within blocks of code isolated between curly braces <code class="highlighter-rouge"><span class="p">{</span></code> and <code class="highlighter-rouge">}</code>, known as ‚Äústatements‚Äù.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The keyword <code class="highlighter-rouge">if</code> must be followed by a logical test which determines, at runtime, what to do next.
The R interpreter goes to the first statement if the logical value is <code class="highlighter-rouge">TRUE</code> and to the second statement if it‚Äôs <code class="highlighter-rouge">FALSE</code>.</p>

<p>An if/else conditional would allow the <code class="highlighter-rouge">first</code> function to avoid the error thrown by calling <code class="highlighter-rouge">first(counts)</code>.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is.vector</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">first</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>       ed ct
1 college  4
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">first</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 4
</code></pre>
</div>

<h2 id="exercise-7">Exercise 7</h2>

<p>The keywords <code class="highlighter-rouge">else</code> and <code class="highlighter-rouge">if</code> can be combined to allow flow control among more than two statements.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="n">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Expand the <code class="highlighter-rouge">first</code> function once again to differentiate between <code class="highlighter-rouge">dat</code> provided as a <code class="highlighter-rouge">matrix</code> and as a <code class="highlighter-rouge">data.frame</code>. It‚Äôs up to you what the ‚Äúfirst‚Äù element of a matrix should be!</p>

<p class="notes"><a href="#solution-7">View solution</a></p>

<p class="ToS"><a href="#/slides/flow">Top of Section</a></p>

<hr />

<p><a name="/slides/stats"></a></p>

<h2 id="distributions-and-statistics">Distributions and Statistics</h2>

<p>Since it is designed for statistics, R can easily draw random numbers from statistical distributions and calculate distribution values.</p>

<p>To generate random numbers from a normal distribution, use the function <code class="highlighter-rouge">rnorm()</code></p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">samp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">samp</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code> [1] -0.78113282 -0.06103047 -1.15900799  0.26156262  0.46521782
 [6] -0.15671861  0.68824774 -1.26014231  1.05630340  2.86988207
</code></pre>
</div>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Returns</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">rnorm()</code></td>
      <td>Draw random numbers from normal distribution</td>
      <td>Specify <code class="highlighter-rouge">n</code>, <code class="highlighter-rouge">mean</code>, <code class="highlighter-rouge">sd</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">dnorm()</code></td>
      <td>Probability density at a given number</td>
      <td>¬†</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">pnorm()</code></td>
      <td>Cumulative probability up to a given number</td>
      <td>left-tailed by default</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">qnorm()</code></td>
      <td>The quantile given a cumulative probability</td>
      <td>opposite of pnorm</td>
    </tr>
  </tbody>
</table>

<p>Statistical distributions and their functions.
See <em>Table 14.1</em> in <strong>R for Everyone</strong> by Jared Lander for a full table.</p>

<table>
  <thead>
    <tr>
      <th>Distribution</th>
      <th>Functions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Normal</td>
      <td>*norm</td>
    </tr>
    <tr>
      <td>Binomial</td>
      <td>*binom</td>
    </tr>
    <tr>
      <td>Poisson</td>
      <td>*pois</td>
    </tr>
    <tr>
      <td>Gamma</td>
      <td>*gamma</td>
    </tr>
    <tr>
      <td>Exponential</td>
      <td>*exp</td>
    </tr>
    <tr>
      <td>Uniform</td>
      <td>*unif</td>
    </tr>
    <tr>
      <td>Logistic</td>
      <td>*logis</td>
    </tr>
  </tbody>
</table>

<p>R has built in functions for handling many statistical tests.</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">)</span><span class="w">
</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rbinom</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.85</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">t.test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>
	Welch Two Sample t-test

data:  x and y
t = -22.664, df = 117.39, p-value &lt; 2.2e-16
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -19.54175 -16.40111
sample estimates:
mean of x mean of y 
 24.39857  42.37000 
</code></pre>
</div>

<p>Linear regression with the <code class="highlighter-rouge">lm()</code> function uses a formula notation to specify relationships between variables (e.g. <code class="highlighter-rouge">y ~ x</code>).</p>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">fit</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">summary</span><span class="p">(</span><span class="n">fit</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>
Call:
lm(formula = y ~ x)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.3884 -1.3721 -0.3561  1.6289  5.6395 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 42.418347   0.789681  53.716   &lt;2e-16 ***
x           -0.001982   0.030921  -0.064    0.949    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.333 on 98 degrees of freedom
Multiple R-squared:  4.19e-05,	Adjusted R-squared:  -0.01016 
F-statistic: 0.004107 on 1 and 98 DF,  p-value: 0.949
</code></pre>
</div>

<h2 id="exercise-8">Exercise 8</h2>

<p>Recall the formula notation used to plot hindfoot_length against weight for the observations in the <code class="highlighter-rouge">animals</code> data frame: <code class="highlighter-rouge">plot(hindfoot_length ~ weight, data = animals)</code>. Instead of the <code class="highlighter-rouge">plot</code> function, use the <code class="highlighter-rouge">lm</code> function to estimate the coefficient of <code class="highlighter-rouge">log(weight)</code> as a predictor of <code class="highlighter-rouge">log(hindfoot_length)</code>.</p>

<p class="notes"><a href="#solution-8">View solution</a></p>

<p class="ToS"><a href="#/slides/stats">Top of Section</a></p>

<hr />

<p><a name="/slides/conclude"></a></p>

<h2 id="review">Review</h2>

<p>In this introduction to R, we briefly touched on several key principle of scientific programming.</p>

<ul>
  <li>Data types</li>
  <li>Assignment</li>
  <li>Reading data</li>
  <li>Subsetting data</li>
  <li>Functions (keyword <code class="highlighter-rouge">function</code>)</li>
  <li>Flow control (keywords <code class="highlighter-rouge">if</code> and <code class="highlighter-rouge">else</code>):</li>
  <li>Plots</li>
  <li>Statistics</li>
</ul>

<h2 id="special-characters-in-r">Special characters in R</h2>

<p>Perhaps more than most languages, an R script can appear like a jumble of archaic symbols.
Here is a little table of characters to recognize as having special meaning</p>

<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">.</code></td>
      <td>¬†</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">?</code></td>
      <td>get help</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">#</code></td>
      <td>comment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">:</code></td>
      <td>sequence</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">::</code>, <code class="highlighter-rouge">:::</code></td>
      <td>access namespaces (advanced)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;-</code></td>
      <td>assignment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-&gt;</code></td>
      <td>assignment</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">[ ]</code></td>
      <td>selection</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">$</code></td>
      <td>selection</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">% %</code></td>
      <td>infix operators, e.g. <code class="highlighter-rouge">%*%</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="p">}</span></code></td>
      <td>statements</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">@</code></td>
      <td>slot (advanced)</td>
    </tr>
  </tbody>
</table>

<p>Yes, the <code class="highlighter-rouge">.</code> in R has no fixed meaning and is often used as <code class="highlighter-rouge">_</code> might be used to separate words in a variable name.</p>

<p class="ToS"><a href="#/slides/conclude">Top of Section</a></p>

<hr />

<p><a name="/slides/solutions"></a></p>

<h2 id="exercise-solutions">Exercise solutions</h2>

<h2 id="solution-1">Solution 1</h2>

<p>First solution:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="p">(</span><span class="m">-0.3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="m">0.3</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">-2.9</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code>[1] 1.294035
</code></pre>
</div>

<p>Second solution:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="p">(</span><span class="m">-0.3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="m">0.3</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">-2.9</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code>[1] -1.494035
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-1">Return</a></p>
</aside>

<h2 id="solution-2">Solution 2</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w">
</span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>List of 2
 $ : num 1
 $ :List of 2
  ..$ : num 2
  ..$ : num 3
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>List of 3
 $ : num 1
 $ : num 2
 $ : num 3
</code></pre>
</div>

<p>The variable <code class="highlighter-rouge">x</code> contains two elements, a number and a list. The variable <code class="highlighter-rouge">y</code> has concatenation of the two arguments, coerced to the more flexible of the two (a list is more flexible than a number). Both <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code> are lists.</p>

<aside class="notes">
  <p><a href="#exercise-2">Return</a></p>
</aside>

<h2 id="solution-3">Solution 3</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">species</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">()</span><span class="w">
</span><span class="n">abund</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">()</span><span class="w">
</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">species</span><span class="p">,</span><span class="w"> </span><span class="n">abund</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>'data.frame':	0 obs. of  0 variables
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-3">Return</a></p>
</aside>

<h2 id="solution-4">Solution 4</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">animals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s1">'data/animals.csv'</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">na.strings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span><span class="w">
</span><span class="n">animals</span><span class="o">$</span><span class="n">sex</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">animals</span><span class="o">$</span><span class="n">sex</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">str</span><span class="p">(</span><span class="n">animals</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>'data.frame':	35549 obs. of  9 variables:
 $ id             : int  2 3 4 5 6 7 8 9 10 11 ...
 $ month          : int  7 7 7 7 7 7 7 7 7 7 ...
 $ day            : int  16 16 16 16 16 16 16 16 16 16 ...
 $ year           : int  1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 ...
 $ plot_id        : int  3 2 7 3 1 2 1 1 6 5 ...
 $ species_id     : chr  "NL" "DM" "DM" "DM" ...
 $ sex            : Factor w/ 2 levels "F","M": 2 1 2 2 2 1 2 1 1 1 ...
 $ hindfoot_length: int  33 37 36 35 14 NA 37 34 20 53 ...
 $ weight         : int  NA NA NA NA NA NA NA NA NA NA ...
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-4">Return</a></p>
</aside>

<h2 id="solution-5">Solution 5</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">sol5a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">-7</span><span class="p">)]</span><span class="w">
</span><span class="n">sol5b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">days</span><span class="p">[</span><span class="n">seq</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)]</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">sol5a</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "Monday"    "Tuesday"   "Wednesday" "Thursday"  "Friday"   
</code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">sol5b</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] "Monday"    "Wednesday" "Friday"   
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-5">Return</a></p>
</aside>

<h2 id="solution-6">Solution 6</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">sol6</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'ed'</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">sol6</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] highschool college   
Levels: middle &lt; highschool &lt; college
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-6">Return</a>)</p>
</aside>

<h2 id="solution-7">Solution 7</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">first</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is.vector</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">is.matrix</span><span class="p">(</span><span class="n">dat</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">result</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dat</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">m</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="n">first</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>[1] 1
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-7">Return</a></p>
</aside>

<h2 id="solution-8">Solution 8</h2>

<div class="language-r text-document highlighter-rouge" title="worksheet-1.R"><pre class="highlight"><code><span class="n">animals.hl_model</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lm</span><span class="p">(</span><span class="nf">log</span><span class="p">(</span><span class="n">hindfoot_length</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animals</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<div class="language-r input highlighter-rouge"><pre class="highlight"><code><span class="n">coef</span><span class="p">(</span><span class="n">animals.hl_model</span><span class="p">)[</span><span class="m">2</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>
<div class="output highlighter-rouge"><pre class="highlight"><code>log(weight) 
  0.3961338 
</code></pre>
</div>

<aside class="notes">
  <p><a href="#exercise-8">Return</a></p>
</aside>

<p class="ToS"><a href="#/slides/solutions">Top of Section</a></p>

<hr />



	    </div>
	  </div>
  </body>
</html>
